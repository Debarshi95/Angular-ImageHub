<!-- Showing server error messages(if any)  -->
<div
  class="alert alert-danger mx-auto mt-5 text-center"
  *ngIf="uploadForm.errors?.serverError"
  style="width:28rem;"
>
  {{ uploadForm.errors.serverError }}
</div>
<!-- Showing success messages(if any)  -->
<div
  class="alert alert-success mx-auto mt-5 text-center"
  *ngIf="successResponse"
  style="width:28rem;"
>
  {{ successResponse }}
</div>

<div class="card mx-auto mt-5 mb-5" style="width:28rem;">
  <div class="card-header"><h4>Upload an image</h4></div>
  <div class="card-body">
    <form [formGroup]="uploadForm" (ngSubmit)="uploadImage()">
      <div class="form-group">
        <img
          [src]="imageUrl"
          style="width:25rem; height:23rem;"
          (click)="fileUploader.click()"
        />
      </div>
      <div class="form-group">
        <label>Caption</label>
        <input
          type="text"
          class="form-control"
          formControlName="caption"
          [class.is-invalid]="uploadForm.get('caption').errors?.serverError"
        />
        <span
          class="invalid-feedback"
          *ngIf="uploadForm.get('caption').errors?.serverError"
          >{{ uploadForm.get("caption").errors.serverError }}</span
        >
      </div>
      <div class="form-group">
        <label>Image</label>
        <input
          type="file"
          class="form-control"
          name="image"
          #fileUploader
          (change)="handleSelectedImage($event)"
          [class.is-invalid]="uploadForm.get('image').errors?.serverError"
        />
        <span
          class="invalid-feedback"
          *ngIf="uploadForm.get('image').errors?.serverError"
          >{{ uploadForm.get("image").errors.serverError }}</span
        >
      </div>
      <div class="form-group">
        <button class="btn btn-primary">Upload</button>
      </div>
    </form>
  </div>
</div>
